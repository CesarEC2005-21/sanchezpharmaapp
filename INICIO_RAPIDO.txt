â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ INICIO RÃPIDO: AsignaciÃ³n de Repartidores              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ PROBLEMA: "No funciona la asignaciÃ³n de repartidores"

âœ… SOLUCIÃ“N EN 3 PASOS:

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PASO 1: Crear Repartidores en la Base de Datos            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ejecuta este SQL en tu base de datos MySQL:

INSERT INTO usuarios (username, password, email, nombre, apellido, edad, sexo, rol_id)
VALUES 
('repartidor1', '123456', 'repartidor1@test.com', 'Carlos', 'Mendoza', 28, 'M', 4),
('repartidor2', '123456', 'repartidor2@test.com', 'MarÃ­a', 'Torres', 26, 'F', 4),
('repartidor3', '123456', 'repartidor3@test.com', 'Luis', 'GarcÃ­a', 30, 'M', 4);

Nota: El rol_id = 4 es OBLIGATORIO para repartidores.

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PASO 2: Verificar que tu Usuario sea Vendedor             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Verifica tu rol con este SQL:

SELECT username, rol_id FROM usuarios WHERE username = 'TU_USUARIO';

Debe mostrar: rol_id = 3 (vendedor) o rol_id = 1 (admin)

Si no es correcto, actualiza tu rol:

UPDATE usuarios SET rol_id = 3 WHERE username = 'TU_USUARIO';

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PASO 3: Probar en la AplicaciÃ³n                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Cierra la app completamente
2. Vuelve a abrir la app
3. Inicia sesiÃ³n con tu usuario vendedor
4. Ve a "EnvÃ­os" en el menÃº
5. Busca un envÃ­o en estado "Pendiente" sin repartidor
6. Haz clic en el botÃ³n azul "Asignar Repartidor"
7. Selecciona un repartidor
8. Â¡Listo! âœ…

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ” VERIFICACIÃ“N RÃPIDA                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ejecuta estos SQL para verificar todo:

-- Â¿Hay repartidores?
SELECT COUNT(*) AS total_repartidores FROM usuarios WHERE rol_id = 4;
-- Debe ser mayor a 0

-- Â¿Tu usuario es vendedor?
SELECT username, rol_id FROM usuarios WHERE username = 'TU_USUARIO';
-- rol_id debe ser 3 (vendedor) o 1 (admin)

-- Â¿Hay envÃ­os disponibles?
SELECT COUNT(*) AS envios_disponibles FROM envios 
WHERE estado IN ('pendiente', 'preparando') 
AND (conductor_repartidor IS NULL OR conductor_repartidor = '');
-- Debe ser mayor a 0

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  â“ PREGUNTAS FRECUENTES                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

P: Â¿Por quÃ© no veo el botÃ³n "Asignar Repartidor"?
R: Verifica:
   - Tu usuario debe tener rol_id = 1 (admin) o 3 (vendedor)
   - El envÃ­o debe estar en estado "pendiente" o "preparando"
   - El envÃ­o NO debe tener repartidor asignado

P: Â¿Por quÃ© dice "No hay repartidores disponibles"?
R: No hay usuarios con rol_id = 4 en la base de datos.
   Ejecuta el SQL del PASO 1.

P: Â¿Puedo cambiar el repartidor despuÃ©s de asignarlo?
R: No automÃ¡ticamente. Debes actualizar manualmente:
   UPDATE envios SET conductor_repartidor = NULL WHERE id = X;

P: Â¿Los repartidores pueden verse a sÃ­ mismos?
R: SÃ­, pero NO pueden asignar repartidores a otros envÃ­os.
   Solo Admin y Vendedor tienen ese permiso.

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“š DOCUMENTACIÃ“N COMPLETA                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para informaciÃ³n detallada, revisa:
- DIAGNOSTICO_REPARTIDORES.md  â†’ Troubleshooting completo
- RESUMEN_CAMBIOS.md           â†’ Cambios en el cÃ³digo
- setup_repartidores.sql       â†’ Script SQL completo

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ’¡ RECORDATORIO                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Credenciales de prueba (si ejecutaste el script SQL):

Vendedor:
  Usuario: vendedor1
  ContraseÃ±a: 123456

Repartidores:
  Usuario: repartidor1, repartidor2, repartidor3
  ContraseÃ±a: 123456 (todos)

Â¡CAMBIA ESTAS CONTRASEÃ‘AS EN PRODUCCIÃ“N!

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… Â¡Listo para Usar!                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

